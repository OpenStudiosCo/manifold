{"version":3,"file":"app.js","sources":["../src/app/models/BaseModel.js","../node_modules/rollup-plugin-pug/dist/runtime.es.js","../src/templates/toolbar/active-object-context.pug","../src/app/models/main-canvas/ColourPickerModel.js","../src/app/models/main-canvas/PotraceModel.js","../src/app/models/main-canvas/ShapeFinderModel.js","../src/app/models/ThreeCanvasModel.js","../src/app/views/BaseView.js","../src/templates/toolbar/model-preview.pug","../src/app/views/ThreeCanvasView.js","../src/app/models/MainCanvasModel.js","../src/templates/toolbar/add-image__item.pug","../src/app/views/MainCanvasView.js","../src/app.js"],"sourcesContent":["import Backbone from 'Backbone';\r\n\r\n/**\r\n  * Base model.\r\n  */\r\n\r\nexport default class BaseModel extends Backbone.Model {}\r\n","export default (function(exports){\n  'use strict';\n\n  var pug_has_own_property = Object.prototype.hasOwnProperty;\n\n  /**\n   * Merge two attribute objects giving precedence\n   * to values in object `b`. Classes are special-cased\n   * allowing for arrays and merging/joining appropriately\n   * resulting in a string.\n   *\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   * @api private\n   */\n\n  exports.merge = pug_merge;\n  function pug_merge(a, b) {\n    if (arguments.length === 1) {\n      var attrs = a[0];\n      for (var i = 1; i < a.length; i++) {\n        attrs = pug_merge(attrs, a[i]);\n      }\n      return attrs;\n    }\n\n    for (var key in b) {\n      if (key === 'class') {\n        var valA = a[key] || [];\n        a[key] = (Array.isArray(valA) ? valA : [valA]).concat(b[key] || []);\n      } else if (key === 'style') {\n        var valA = pug_style(a[key]);\n        valA = valA && valA[valA.length - 1] !== ';' ? valA + ';' : valA;\n        var valB = pug_style(b[key]);\n        valB = valB && valB[valB.length - 1] !== ';' ? valB + ';' : valB;\n        a[key] = valA + valB;\n      } else {\n        a[key] = b[key];\n      }\n    }\n\n    return a;\n  };\n\n  /**\n   * Process array, object, or string as a string of classes delimited by a space.\n   *\n   * If `val` is an array, all members of it and its subarrays are counted as\n   * classes. If `escaping` is an array, then whether or not the item in `val` is\n   * escaped depends on the corresponding item in `escaping`. If `escaping` is\n   * not an array, no escaping is done.\n   *\n   * If `val` is an object, all the keys whose value is truthy are counted as\n   * classes. No escaping is done.\n   *\n   * If `val` is a string, it is counted as a class. No escaping is done.\n   *\n   * @param {(Array.<string>|Object.<string, boolean>|string)} val\n   * @param {?Array.<string>} escaping\n   * @return {String}\n   */\n  exports.classes = pug_classes;\n  function pug_classes_array(val, escaping) {\n    var classString = '', className, padding = '', escapeEnabled = Array.isArray(escaping);\n    for (var i = 0; i < val.length; i++) {\n      className = pug_classes(val[i]);\n      if (!className) continue;\n      escapeEnabled && escaping[i] && (className = pug_escape(className));\n      classString = classString + padding + className;\n      padding = ' ';\n    }\n    return classString;\n  }\n  function pug_classes_object(val) {\n    var classString = '', padding = '';\n    for (var key in val) {\n      if (key && val[key] && pug_has_own_property.call(val, key)) {\n        classString = classString + padding + key;\n        padding = ' ';\n      }\n    }\n    return classString;\n  }\n  function pug_classes(val, escaping) {\n    if (Array.isArray(val)) {\n      return pug_classes_array(val, escaping);\n    } else if (val && typeof val === 'object') {\n      return pug_classes_object(val);\n    } else {\n      return val || '';\n    }\n  }\n\n  /**\n   * Convert object or string to a string of CSS styles delimited by a semicolon.\n   *\n   * @param {(Object.<string, string>|string)} val\n   * @return {String}\n   */\n\n  exports.style = pug_style;\n  function pug_style(val) {\n    if (!val) return '';\n    if (typeof val === 'object') {\n      var out = '';\n      for (var style in val) {\n        /* istanbul ignore else */\n        if (pug_has_own_property.call(val, style)) {\n          out = out + style + ':' + val[style] + ';';\n        }\n      }\n      return out;\n    } else {\n      return val + '';\n    }\n  };\n\n  /**\n   * Render the given attribute.\n   *\n   * @param {String} key\n   * @param {String} val\n   * @param {Boolean} escaped\n   * @param {Boolean} terse\n   * @return {String}\n   */\n  exports.attr = pug_attr;\n  function pug_attr(key, val, escaped, terse) {\n    if (val === false || val == null || !val && (key === 'class' || key === 'style')) {\n      return '';\n    }\n    if (val === true) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    }\n    if (typeof val.toJSON === 'function') {\n      val = val.toJSON();\n    }\n    if (typeof val !== 'string') {\n      val = JSON.stringify(val);\n      if (!escaped && val.indexOf('\"') !== -1) {\n        return ' ' + key + '=\\'' + val.replace(/'/g, '&#39;') + '\\'';\n      }\n    }\n    if (escaped) val = pug_escape(val);\n    return ' ' + key + '=\"' + val + '\"';\n  };\n\n  /**\n   * Render the given attributes object.\n   *\n   * @param {Object} obj\n   * @param {Object} terse whether to use HTML5 terse boolean attributes\n   * @return {String}\n   */\n  exports.attrs = pug_attrs;\n  function pug_attrs(obj, terse){\n    var attrs = '';\n\n    for (var key in obj) {\n      if (pug_has_own_property.call(obj, key)) {\n        var val = obj[key];\n\n        if ('class' === key) {\n          val = pug_classes(val);\n          attrs = pug_attr(key, val, false, terse) + attrs;\n          continue;\n        }\n        if ('style' === key) {\n          val = pug_style(val);\n        }\n        attrs += pug_attr(key, val, false, terse);\n      }\n    }\n\n    return attrs;\n  };\n\n  /**\n   * Escape the given string of `html`.\n   *\n   * @param {String} html\n   * @return {String}\n   * @api private\n   */\n\n  var pug_match_html = /[\"&<>]/;\n  exports.escape = pug_escape;\n  function pug_escape(_html){\n    var html = '' + _html;\n    var regexResult = pug_match_html.exec(html);\n    if (!regexResult) return _html;\n\n    var result = '';\n    var i, lastIndex, escape;\n    for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n      switch (html.charCodeAt(i)) {\n        case 34: escape = '&quot;'; break;\n        case 38: escape = '&amp;'; break;\n        case 60: escape = '&lt;'; break;\n        case 62: escape = '&gt;'; break;\n        default: continue;\n      }\n      if (lastIndex !== i) result += html.substring(lastIndex, i);\n      lastIndex = i + 1;\n      result += escape;\n    }\n    if (lastIndex !== i) return result + html.substring(lastIndex, i);\n    else return result;\n  };\n\n  /**\n   * Re-throw the given `err` in context to the\n   * the pug in `filename` at the given `lineno`.\n   *\n   * @param {Error} err\n   * @param {String} filename\n   * @param {String} lineno\n   * @param {String} str original source\n   * @api private\n   */\n\n  exports.rethrow = pug_rethrow;\n  function pug_rethrow(err, filename, lineno, str){\n    if (!(err instanceof Error)) throw err;\n    if ((typeof window != 'undefined' || !filename) && !str) {\n      err.message += ' on line ' + lineno;\n      throw err;\n    }\n    try {\n      str = str || require('fs').readFileSync(filename, 'utf8')\n    } catch (ex) {\n      pug_rethrow(err, null, lineno)\n    }\n    var context = 3\n      , lines = str.split('\\n')\n      , start = Math.max(lineno - context, 0)\n      , end = Math.min(lines.length, lineno + context);\n\n    // Error context\n    var context = lines.slice(start, end).map(function(line, i){\n      var curr = i + start + 1;\n      return (curr == lineno ? '  > ' : '    ')\n        + curr\n        + '| '\n        + line;\n    }).join('\\n');\n\n    // Alter exception message\n    err.path = filename;\n    err.message = (filename || 'Pug') + ':' + lineno\n      + '\\n' + context + '\\n\\n' + err.message;\n    throw err;\n  };\n\n  return exports\n})({});\n",".active-object-context.floating.overlay\n  .ui.mini.menu.labeled.icon.pointing\n    a.item#btnDeleteActive\n      i.trash.alternate.icon\n      span Delete\n    a.item.disabled#btnGroupActive\n      i.object.group.icon\n      span Group (1)\n    a.item.disabled#btnMergeActive\n      i.object.group.outline.icon\n      span Merge\n    a.item.disabled#btnFillActive\n      i.tint.icon\n      span Fill\n    a.item.disabled\n      i.pencil.alternate.icon\n      span Stroke\n    a.item.disabled\n      i.paper.plane.outline.icon\n      span Vector\n    a#btnMake3D.item.disabled\n      i.snowflake.outline.icon\n      span 3D\n","import $ from 'jQuery';\nimport BaseModel from '../BaseModel.js';\n\n/**\n  * Colour picker model for the main canvas.\n  * Credit - https://www.webdesignerdepot.com/2013/03/how-to-create-a-color-picker-with-html5-canvas/\n  */\n\nexport default class ColourPickerModel extends BaseModel {\n  defaults() {\n    var settings = {\n      color: '#FFFFFF',\n      canvas: null\n    };\n\n    return settings;\n  }\n\n  constructor() {\n    super();\n\n    var el = document.getElementById('colour-picker');\n    if (!el) {\n      return;\n    }\n\n    this.attributes.canvas = el.getContext('2d');\n    // create an image object and get itâ€™s source\n    var img = new Image();\n    img.onload = function(){\n      this.attributes.canvas.drawImage(img,0,0);\n    }.bind(this);\n    img.src = '/assets/spectrum.jpg';\n    this.attributes.canvas.scale(0.49, 0.4);\n\n    $('#fill-tool').draggable({ cancel: \"#colour-picker, #colour-picker-preview input\" });\n\n    var mouseDown = false;\n    $('#colour-picker').on('mousedown', function(event){\n      mouseDown = true;\n      this.pickColour(event);\n    }.bind(this));\n    $('#colour-picker').on('mousemove', function(event){\n      if (mouseDown) {\n        this.pickColour(event);\n      }\n    }.bind(this));\n    $('#colour-picker').on('mouseup', function(){\n      mouseDown = false;\n    });\n     \n  }\n\n  lookupAndSetColour(colour) {\n    var cvs, ctx;\n    cvs = document.createElement('canvas');\n    cvs.height = 1;\n    cvs.width = 1;\n    ctx = cvs.getContext('2d');\n    ctx.fillStyle = colour;\n    ctx.fillRect(0, 0, 1, 1);\n    var c = ctx.getImageData(0, 0, 1, 1).data;\n    this.setColour(c[0], c[1], c[2]);\n  }\n\n  setColour(R,G,B) {\n    var rgb = R + ', ' + G + ', ' + B;\n    // convert RGB to HEX\n    var hex = this.rgbToHex(R,G,B);\n    // making the color the value of the input\n    $('input#rgb').val(rgb);\n    $('input#hex').val('#' + hex);\n    $('#colour-picker-preview').css('background-color', '#' + hex);\n\n    if (app.models.mainCanvas.attributes.canvas) {\n      $('#btnFillActive .icon').css('color', '#' + hex);\n      app.models.mainCanvas.attributes.canvas.getActiveObject().set(\"fill\", '#' + hex);\n      app.models.mainCanvas.attributes.canvas.renderAll();\n    }\n  }\n\n  // http://www.javascripter.net/faq/rgbtohex.htm\n  rgbToHex(R,G,B) {\n   return this.toHex(R)+this.toHex(G)+this.toHex(B); \n  }\n\n  toHex(m) {\n    var n = parseInt(m,10);\n    if (isNaN(n)) {\n     return \"00\";\n    }\n    n = Math.max(0,Math.min(n,255));\n    \n    return \"0123456789ABCDEF\".charAt((n-(n%16))/16) + \"0123456789ABCDEF\".charAt(n%16);\n  }\n\n  pickColour(event) {\n    // getting user coordinates\n    var x = event.offsetX;\n    var y = event.offsetY;\n    // getting image data and RGB values\n    var img_data = this.attributes.canvas.getImageData(x, y, 1, 1).data;\n    var R = img_data[0];\n    var G = img_data[1];\n    var B = img_data[2];\n    this.setColour(R, G, B);\n  }\n\n}\n","import $ from 'jQuery';\nimport Potrace from 'Potrace';\nimport BaseModel from '../BaseModel.js';\n\n/**\n  * Potrace model for the main canvas.\n  */\n\nexport default class PotraceModel extends BaseModel {\n  defaults() {\n    var settings = {\n      alphamax: 1,\n      optcurve: false,\n      opttolerance: 0.2,\n      turdsize: 2,\n      turnpolicy: \"minority\"\n    };\n\n    return settings;\n  }\n\n  createSVG(src, callback) {\n    // Create an SVG from data and settings, draw to screen.\n    Potrace.clear();\n    Potrace.loadImageFromSrc(src);\n    Potrace.process(function() {\n      var svg = Potrace.getSVG(1);\n      const randomColor = () => '#'+('00000'+(Math.random()*(1<<24)|0).toString(16)).slice(-6);\n      var newSVG = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n      // normalize should be used to get back absolute segments\n      const pathsDatas = $(svg).find('path')[0].getPathData({ normalize: true }).reduce((acc, seg) => {\n        const pathData = seg.type === 'M' ? [] : acc.pop();\n        seg.values = seg.values.map((v) => Math.round(v * 1000) / 1000);\n        pathData.push(seg);\n        acc.push(pathData); \n        \n        return acc;\n      }, []);\n\n      pathsDatas.forEach(function(d) {\n        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setPathData(d);\n        path.setAttribute('fill', randomColor());\n        newSVG.appendChild(path);\n      });\n\n      callback(newSVG.outerHTML);\n    });\n  }\n\n}\n","import paper from 'paper';\nimport $ from 'jQuery';\nimport BaseModel from '../BaseModel.js';\n\n/**\n  * Shape Finder model.\n  * \n  * Integrates Paper JS Boolean operations.\n  */\n\nexport default class ShapeFinderModel extends BaseModel {\n  constructor(){\n    super();\n    var canvas = document.getElementById('main-canvas');\n    paper.setup(canvas);\n  }\n\n  flatten(svgElements) {\n    var canvas = document.createElement('canvas');\n    paper.setup(canvas);\n    var svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">' + svgElements + '</svg>';\n    var paths = paper.project.importSVG(svg);\n    console.log(paths);\n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    $('#container').append(canvas);\n  }\n}\n","import BaseModel from './BaseModel.js';\r\nimport THREE from 'THREE';\r\n\r\n/**\r\n  * Three Canvas model.\r\n  */\r\n\r\nexport default class ThreeCanvasModel extends BaseModel {\r\n  defaults() {\r\n    var attributes = {\r\n      animationId: null,\r\n      renderer: null,\r\n      scene: null,\r\n      width: 400,\r\n      height: 400,\r\n      camera: null,\r\n      controls: null,\r\n      mesh: null,\r\n      raycaster: null,\r\n      highlighter: null,\r\n      mouse: null,\r\n      extrudeAmount: 40,\r\n      helpers: []\r\n    };\r\n    \r\n    return attributes;\r\n  }\r\n\r\n  constructor(options) {\r\n    super(options);\r\n    this.attributes.scene = new THREE.Scene();\r\n    var aspect = this.attributes.width / this.attributes.height;\r\n    this.attributes.camera = new THREE.PerspectiveCamera( 50, aspect, 1, 100000 );\r\n    this.attributes.renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n    this.attributes.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.attributes.controls = new THREE.OrbitControls( this.attributes.camera, this.attributes.renderer.domElement );\r\n    this.attributes.raycaster = new THREE.Raycaster();\r\n    this.attributes.mouse = new THREE.Vector2();\r\n  }\r\n\r\n  // Scene helpers.\r\n  addHelpers() {\r\n    var size = 2000;\r\n    var divisions = 100;\r\n    var gridColour = new THREE.Color(0xEFEFEF);\r\n\r\n    var gridHelper = new THREE.GridHelper( size, divisions, gridColour, gridColour );\r\n    gridHelper.position.setX(-712.5);\r\n    gridHelper.position.setZ(-500);\r\n    gridHelper.rotateX(Math.PI / 2);\r\n    gridHelper.rotateZ(-Math.PI / 4);\r\n    this.attributes.helpers.push(gridHelper);\r\n    this.attributes.scene.add( this.attributes.helpers[this.attributes.helpers.length-1] );\r\n\r\n    var gridHelper2 = new THREE.GridHelper( size, divisions, gridColour, gridColour );\r\n    gridHelper2.position.setX(712.5);\r\n    gridHelper2.position.setZ(-500);\r\n    gridHelper2.rotateX(Math.PI / 2);\r\n    gridHelper2.rotateZ(Math.PI / 4);\r\n    this.attributes.helpers.push(gridHelper2);\r\n    this.attributes.scene.add( this.attributes.helpers[this.attributes.helpers.length-1] );\r\n\r\n    var axesHelper = new THREE.AxesHelper( 500 );\r\n    axesHelper.rotateY(-Math.PI / 4);\r\n    axesHelper.position.set(0, -100, -350);\r\n    this.attributes.helpers.push(axesHelper);\r\n    this.attributes.scene.add( this.attributes.helpers[this.attributes.helpers.length-1] );\r\n  }\r\n\r\n  clearScene() {\r\n    cancelAnimationFrame( this.attributes.animationId );\r\n    this.attributes.scene.children = [];\r\n    this.attributes.mesh = null;\r\n    this.attributes.camera.aspect = this.attributes.width / this.attributes.height;\r\n  }\r\n\r\n  animate() {\r\n    this.attributes.animationId = requestAnimationFrame( this.animate.bind(this) );\r\n    this.render.bind(this)();\r\n  }\r\n\r\n  render() {\r\n    this.attributes.controls.update();\r\n    this.attributes.renderer.render( this.attributes.scene, this.attributes.camera );\r\n\r\n    //this.attributes.raycaster.setFromCamera( this.attributes.mouse, this.attributes.camera );\r\n    \r\n    // var intersects = this.attributes.raycaster.intersectObjects( this.attributes.mesh.children );\r\n    // if ( intersects.length > 0 ) {\r\n    //   if (this.attributes.highlighter) {\r\n    //     this.attributes.scene.remove( this.attributes.highlighter );\r\n    //   }\r\n    //   this.attributes.highlighter = new THREE.BoxHelper( intersects[0].object, 0xffff00 );\r\n    //   this.attributes.scene.add( this.attributes.highlighter );\r\n    // }\r\n\r\n    if (app.models.mainCanvas) {\r\n      app.models.mainCanvas.attributes.canvas.renderAll();      \r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.attributes.camera.aspect = this.attributes.width / this.attributes.height;\r\n    this.attributes.camera.updateProjectionMatrix();\r\n\r\n    this.attributes.camera.position.setZ((this.attributes.width/ this.attributes.height) * this.attributes.extrudeAmount * 8);\r\n\r\n    this.attributes.renderer.setSize( this.attributes.width, this.attributes.height );\r\n  }\r\n}\r\n","import Backbone from 'Backbone';\r\n\r\n/**\r\n  * Base view.\r\n  */\r\n\r\nexport default class BaseView extends Backbone.View {}\r\n",".model-preview(style='box-shadow: inset 0 0 5px #ccc;',id=id)","import $ from 'jQuery';\r\nimport THREE from 'THREE';\r\nimport BaseView from './BaseView.js';\r\nimport modelPreview from '../../templates/toolbar/model-preview.pug';\r\n\r\n/**\r\n  * Three Canvas view.\r\n  *\r\n  * Manages a THREE.JS canvas view.\r\n  */\r\n\r\nvar models = 0;\r\n\r\nexport default class ThreeCanvasView extends BaseView {\r\n  constructor(options) {\r\n    $('#container').append(modelPreview({id: 'model-preview-' + models}));\r\n    super({\r\n      el: '#model-preview-' + models,\r\n      model: options.model\r\n    });\r\n    this.$el.css('width', options.width);\r\n    this.$el.css('height', options.height);\r\n    this.model.attributes.width = options.width;\r\n    this.model.attributes.height = options.height;\r\n    this.$el.on( 'mousemove', function(event) {\r\n      this.model.attributes.mouse.x = (( event.offsetX / this.model.attributes.renderer.domElement.clientWidth ) * 2 ) - 1;\r\n      this.model.attributes.mouse.y = - (( event.offsetY / this.model.attributes.renderer.domElement.clientHeight ) * 2 ) + 1;\r\n    }.bind(this));\r\n\r\n    this.createScene(options.svg);\r\n    models++;\r\n  }\r\n\r\n  createScene(svg) {\r\n    \r\n    this.model.attributes.renderer.setSize( this.model.attributes.width, this.model.attributes.height );\r\n    this.model.clearScene();\r\n    \r\n    this.$el.append( this.model.attributes.renderer.domElement );\r\n\r\n     // Load the imagetracejs SVG using experimental SVGLoader from three.js dev.\r\n    var loader = new THREE.SVGLoader();\r\n    var paths = loader.parse(svg);\r\n    var offsetX = (paths[0].currentPath ? paths[0].currentPath.currentPoint.x : 0);\r\n    var offsetY = (paths[0].currentPath ? paths[0].currentPath.currentPoint.y : 0);\r\n    var svgExtruded = this.extrudeSVG({\r\n      paths: paths,\r\n      amount: this.model.attributes.extrudeAmount,\r\n      center: { x: offsetX, y: offsetY }\r\n    });\r\n    var box = new THREE.Box3().setFromObject( svgExtruded );\r\n    var boundingBoxSize = box.max.sub( box.min );\r\n    this.model.attributes.mesh = svgExtruded;\r\n    this.model.attributes.scene.add( this.model.attributes.mesh );\r\n    this.model.attributes.camera.lookAt(0,0,0);\r\n    this.model.attributes.camera.position.set(0 ,0 , (this.model.attributes.width/ this.model.attributes.height) * this.model.attributes.extrudeAmount * 8);\r\n\r\n    // Start the animation loop.\r\n    this.model.animate();\r\n  }\r\n\r\n  // Populate a 3D group from an SVG using SVGLoader\r\n  extrudeSVG(svgObject) {\r\n    var paths = svgObject.paths;\r\n    var amount = svgObject.amount;\r\n    var center = svgObject.center;\r\n\r\n    var group = new THREE.Group();\r\n    for ( var i = 0; i < paths.length; i ++ ) {\r\n      var path = paths[ i ];\r\n      var shapes = path.toShapes( true );\r\n      for ( var j = 0; j < shapes.length; j ++ ) {\r\n        var color = new THREE.Color(Math.random() * 0xffffff);\r\n        var material = new THREE.MeshBasicMaterial( {\r\n          color: path.color ? path.color : color\r\n        } );\r\n        var simpleShape = shapes[ j ];\r\n        var shape3d = new THREE.ExtrudeBufferGeometry( simpleShape, {\r\n          amount: amount ,\r\n          bevelEnabled: false\r\n        } );\r\n\r\n        var mesh = new THREE.Mesh( shape3d, material );\r\n        mesh.rotation.x = Math.PI;\r\n        mesh.translateZ( - amount - 1 );\r\n        mesh.translateX( - center.x);\r\n        mesh.translateY( - center.y);\r\n\r\n        group.add( mesh );\r\n      }\r\n    }\r\n\r\n    return group;\r\n  }\r\n}\r\n","import $ from 'jQuery';\nimport fabric from 'fabric';\nimport BaseModel from './BaseModel.js';\nimport activeObjectContext from '../../templates/toolbar/active-object-context.pug';\nimport ColourPickerModel from './main-canvas/ColourPickerModel.js';\nimport PotraceModel from './main-canvas/PotraceModel.js';\nimport ShapeFinderModel from './main-canvas/ShapeFinderModel.js';\nimport ThreeCanvasModel from '../models/ThreeCanvasModel.js';\nimport ThreeCanvasView from '../views/ThreeCanvasView.js';\n\n/**\n  * Raster To SVG model.\n  */\n\nexport default class MainCanvasModel extends BaseModel {\n  defaults() {\n    var attributes = {\n      canvas: null,\n      transitioning: false\n    };\n    \n    return attributes;\n  }\n\n  constructor() {\n    super();\n    this.colourPickerModel = new ColourPickerModel();\n    this.potrace = new PotraceModel();\n    this.shapeFinder = new ShapeFinderModel();\n    this.attributes.canvas = new fabric.Canvas('main-canvas');\n    this.updateCanvasSize();\n    this.setupEvents();\n  }\n\n  setupEvents() {\n    // Credit - https://stackoverflow.com/a/24238960\n    this.attributes.canvas.on('object:moving', function (e) {\n      var obj = e.target;\n       // if object is too big ignore\n      if (obj.currentHeight > obj.canvas.height || obj.currentWidth > obj.canvas.width){\n          return;\n      }        \n      obj.setCoords();        \n      // top-left  corner\n      if (obj.getBoundingRect().top < 0 || obj.getBoundingRect().left < 0){\n          obj.top = Math.max(obj.top, obj.top-obj.getBoundingRect().top);\n          obj.left = Math.max(obj.left, obj.left-obj.getBoundingRect().left);\n      }\n      // bot-right corner\n      if (obj.getBoundingRect().top+obj.getBoundingRect().height > obj.canvas.height || obj.getBoundingRect().left+obj.getBoundingRect().width > obj.canvas.width){\n          obj.top = Math.min(obj.top, obj.canvas.height-obj.getBoundingRect().height+obj.top-obj.getBoundingRect().top);\n          obj.left = Math.min(obj.left, obj.canvas.width-obj.getBoundingRect().width+obj.left-obj.getBoundingRect().left);\n      }\n    });\n\n    // Create the active object context menu when selecting an object.\n    var selectionCallback = function(e) {\n      $('.model-preview').hide();\n      $('.active-object-context').remove();\n      var $menu = $(activeObjectContext());\n      $('#container').append($menu);\n      var offsetX = e.target.left + ((e.target.width / 2) - ($menu.width() / 2));\n      var offsetY = e.target.top - ($menu.height()) - 50;\n      $menu.css('left', offsetX);\n      $menu.css('top', offsetY);\n\n      // Set the menu to be draggable\n      $('.floating.overlay').draggable();\n\n      // Not 3D, not text, not group\n      if (!e.target._element && !e.target.text && !e.target._objects) {\n        $('#btnMake3D').removeClass('disabled');\n      }\n      // Not 3D, not group\n      if (!e.target._element && !e.target._objects) {\n        $('#btnFillActive').removeClass('disabled');\n        $('#btnFillActive .icon').css('color', e.target.fill);\n        this.colourPickerModel.lookupAndSetColour(e.target.fill);\n      }\n      // Is group.\n      if (e.target._objects) {\n        $('#btnMergeActive').removeClass('disabled');\n        $('#btnGroupActive').removeClass('disabled');\n        if (e.target.type == 'activeSelection') {\n          $('#btnGroupActive span').html('Group (' + e.target._objects.length + ')');\n        }\n        else {\n          $('#btnGroupActive span').html('Ungroup (' + e.target._objects.length + ')');\n        }\n      }\n\n      // Events\n      $('#btnMergeActive').click(function(e) {\n        var activeObject = this.attributes.canvas.getActiveObject();\n        this.shapeFinder.flatten(activeObject.toSVG());\n      }.bind(this));\n\n      $('#btnGroupActive').click(function(e) {\n        var activeObject = this.attributes.canvas.getActiveObject();\n        if (activeObject.type != 'group') {\n          activeObject.toGroup();\n        }\n        else {\n          activeObject.toActiveSelection();\n        }\n        \n        this.attributes.canvas.discardActiveObject();\n        this.attributes.canvas.requestRenderAll();\n      }.bind(this));\n      \n      $('#btnFillActive:not(.disabled)').click(function(e){\n        $(this).toggleClass('active');\n        $('#fill-tool').toggle();\n      });\n      $('#btnDeleteActive').click(function(e) {\n        var selectedObjects = this.attributes.canvas.getActiveObjects();\n        for (var i = 0; i < selectedObjects.length; i++) {\n          this.attributes.canvas.remove(selectedObjects[i]);  \n        }\n        this.attributes.canvas.discardActiveObject();\n        $('.active-object-context').remove();\n      }.bind(this));\n      $('#btnMake3D:not(.disabled)').click(function(e) {\n        var selectedObjects = this.attributes.canvas.getActiveObjects();\n        var convertibleObjects = [];\n        for (var i = 0; i < selectedObjects.length; i++) {\n          if (selectedObjects[i].toSVG) {\n\n            var svgElements = selectedObjects[i].toSVG();\n            var svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">' + svgElements + '</svg>';\n            var create3DObject = function(threeCanvas) {\n              var threeD = new fabric.Image($(threeCanvas.el).find('canvas')[0]);\n              threeD.left = selectedObjects[i].left;\n              threeD.top = selectedObjects[i].top;\n              this.attributes.canvas.add(threeD);\n            }.bind(this);\n            app.models.threeCanvas.push(new ThreeCanvasModel());\n            app.views.threeCanvas.push(\n              new ThreeCanvasView({ \n                model: app.models.threeCanvas[app.models.threeCanvas.length-1],\n                svg: svg,\n                width: selectedObjects[i].width * selectedObjects[i].scaleX,\n                height: selectedObjects[i].height * selectedObjects[i].scaleY\n              })\n            );\n            create3DObject(app.views.threeCanvas[app.views.threeCanvas.length-1]);\n            this.attributes.canvas.remove(selectedObjects[i]);\n          }\n          else {\n            console.log('not convertible!');\n          }\n        }\n        this.attributes.canvas.discardActiveObject();\n        $('.active-object-context').remove();\n      }.bind(this));\n    }.bind(this);\n\n    // Separated for Fabric's On not supporting multiple.\n    this.attributes.canvas.on('selection:created', selectionCallback);\n    this.attributes.canvas.on('selection:updated', selectionCallback);\n\n    this.attributes.canvas.on('mouse:dblclick', function(e){\n      if (e.target && e.target._element) {\n        var $el = $(e.target._element).parent();\n        var scaledWidth = e.target.width * e.target.scaleX;\n        var scaledHeight = e.target.height * e.target.scaleY;\n        var offsetX = e.target.left + ((scaledWidth / 2) - ($el.width() / 2));\n        var offsetY = e.target.top + ((scaledHeight / 2) - ($el.height() / 2));\n        $el.show();\n        $el.css('left', offsetX);\n        $el.css('top', offsetY);\n      }\n     \n    }.bind(this));\n\n    this.attributes.canvas.on('selection:cleared', function(){\n      $('.active-object-context').remove();\n     $('.model-preview').hide();\n     $('#fill-tool').hide();\n    });\n\n    // TODO: Don't follow if user moved the toolbar.\n    this.attributes.canvas.on('object:moving', function(e) {\n      var $menu = $('.active-object-context');\n      var offsetX = e.target.left+ ((e.target.width / 2) - ($menu.width() / 2));\n      var offsetY = e.target.top - ($menu.height()) - 50;\n      var toolbarWidth = $('#toolbar').sidebar('is visible') ? $('#toolbar').width(): 0;\n      if (offsetX < toolbarWidth) {\n        offsetX = 0;\n      }\n      if (offsetX > this.attributes.canvas.width - toolbarWidth - $menu.width()) {\n        offsetX = this.attributes.canvas.width - $menu.width(); \n      }\n      if (offsetY < 0) {\n        offsetY = 0;\n      }\n      $menu.css('left', offsetX);\n      $menu.css('top', offsetY);\n    }.bind(this));\n\n    // Resize 3D canvas if it's that type of element.\n    this.attributes.canvas.on('object:scaling', function(e) {\n      if (e.target._element) {\n        var $container = $(e.target._element).parent();\n        if ($container.hasClass('model-preview')) {\n          var scaledWidth = e.target.width * e.target.scaleX;\n          var scaledHeight = e.target.height * e.target.scaleY;\n          $container.css('width', scaledWidth);\n          $container.css('height', scaledHeight);\n          \n          var id = $container.attr('id').replace('model-preview-','');\n          app.models.threeCanvas[id].attributes.width = scaledWidth;\n          app.models.threeCanvas[id].attributes.height = scaledHeight;\n          app.models.threeCanvas[id].resize();\n          e.target._resetWidthHeight();\n        }\n      }\n    });\n  }\n\n  // Loads an SVG string and splits up objects so they're loaded in the right position.\n  loadSVG(svg, callback) {\n    fabric.loadSVGFromString(svg, function(objects){\n      // Create a group so we add to center accurately.\n      var group = new fabric.Group(objects);\n      this.addToCenter(group);\n\n      // Ungroup.\n      var items = group._objects;\n      group._restoreObjectsState();\n      this.attributes.canvas.remove(group);\n      for (var i = 0; i < items.length; i++) {\n        this.attributes.canvas.add(items[i]);\n      }\n      this.attributes.canvas.renderAll();\n      if (callback) {\n        callback(items);\n      }\n    }.bind(this));\n  }\n\n  updateCanvasSize() {\n    var width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    if ($(\"#toolbar\").sidebar('is visible')) {\n      width -= $('#toolbar').width();  \n    }\n    var height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    this.attributes.canvas.setHeight( height );\n    this.attributes.canvas.setWidth( width );\n  }\n\n  // Add an object to the center of the canvas.\n  addToCenter(object) {\n    var canvasWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    if ($(\"#toolbar\").sidebar('is visible')) {\n      canvasWidth -= $('#toolbar').width();  \n    }\n    var canvasHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    \n    object.set({ left: (canvasWidth / 2) - (object.width / 2), top: ((canvasHeight /2) - (object.height / 2)) });\n    \n    this.attributes.canvas.add(object);\n  }\n}\n","a.item.image\n  img.ui.fluid.image.small(src=url)","import _ from '_';\nimport $ from 'jQuery';\nimport fabric from 'fabric';\nimport BaseView from './BaseView.js';\nimport ThreeCanvasView from './ThreeCanvasView.js';\nimport defaultMenu from '../../templates/toolbar/default.pug';\nimport addImageItem from '../../templates/toolbar/add-image__item.pug';\n\n/**\n  * MainCanvas view.\n  */\n\nexport default class MainCanvasView extends BaseView {\n  constructor(options) {\n    super({\n      el: '#main-canvas',\n      model: options.model\n    });\n\n\n    var circle = new fabric.Circle({ radius: 100, fill: 'green' });\n    this.model.addToCenter(circle);\n    circle.left -= 75;\n    var rect = new fabric.Rect({\n      fill: 'red',\n      width: 200,\n      height: 200\n    });\n    this.model.addToCenter(rect);\n    rect.left += 75;\n    this.toggleToolbar = _.throttle(this.toggleToolbar, 1000);\n\n    this.setupDefaultMenu();\n\n    $('.floating.overlay').draggable();\n\n    $('#add-image').on('click', 'a.item.image', function(e){\n      var src = $(e.target).attr('src');\n      var callback = function(svg) {\n        var callback = function() {\n          $('#hideAddImage').click();\n        };\n        app.models.mainCanvas.loadSVG(svg, callback);\n      };\n      app.models.mainCanvas.potrace.createSVG(src, callback);\n    });\n\n    $('.ui.dropdown').dropdown();\n\n    $(window).on('resize', () => {\n      app.models.mainCanvas.updateCanvasSize();\n    });\n\n    $('#hideAddImage')\n      .on('click', function() {\n        $('#btnAddImage').find('i.icon').toggleClass('disabled');\n        $('#add-image')\n          .animate({\n           left: '-' + $('#add-image').width() + 'px'\n          });\n      });\n    $('#btnUploadImage')\n      .on('click', function(e) {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        $('#image_input').click();\n      });\n    $('#image_input')\n      .on('change', function(e) {\n        window.URL = window.URL || window.webkitURL || window.mozURL;\n        var url = URL.createObjectURL(e.currentTarget.files[0]);\n        $(addImageItem({ url: url }))\n          .insertBefore('#add-image .ui.menu .item:last-child');\n      });\n  }\n\n  setupDefaultMenu() {\n    // Define slideout position based on corresponding menu item.\n    $('#add-image').css('top', function(){\n      return $('#btnAddImage').offset().top +(($('#btnAddImage').height() / 2) - ($(this).height() / 2));\n    });\n    $('#btnAddImage')\n      .popup({\n        title: 'Trace Image',\n        position: 'right center'\n      })\n      .on('click', function(){\n        $(this).find('i.icon').toggleClass('disabled');\n        if ($(this).find('i.icon').hasClass('disabled')) {\n          $('#add-image')\n            .css('left', '0px')\n            .show()\n            .animate({\n              left: '-' + $('#add-image').width() + 'px'\n            });\n        }\n        else {\n          $('#add-image')\n            .css('left', '-' + $('#add-image').width() + 'px')\n            .show()\n            .animate({\n              left: '0px'\n            });\n        }\n      });\n\n    // TODO: https://codepen.io/shershen08/pen/JGepQv\n    $('#btnAddText')\n      .popup({\n        title: 'Text',\n        position: 'right center'\n      })\n      .on('click', function(){\n        var textBox = new fabric.Textbox(\"Sample Text\", {\n          fontFamily: 'Arial'\n        });\n        this.model.addToCenter(textBox);\n      }.bind(this));\n\n    // Track which overlays we hid so we don't override other settings.\n    var overlays_visible = [];\n    $('#btnToggleOverlays')\n      .popup({\n        title: 'Toggle Overlays',\n        position: 'right center'\n      })\n      .on('click', function(){\n        if ($(this).find('i.eye.icon').hasClass('slash')) {\n          if (overlays_visible.length > 0) {\n            $(overlays_visible).each(function(i, overlay){\n              $(overlay).show();\n            });\n            overlays_visible = [];\n          }\n        }\n        else {\n          overlays_visible = $('.floating.overlay:visible');\n          $('.floating.overlay:visible').hide();\n        }\n        $(this).find('i.icon').toggleClass('slash');\n      });\n    $('#btnToggleVector')\n      .popup({\n        title: 'Toggle Vector',\n        position: 'right center'\n      })\n      .on('click', function(){\n        $(this).find('i.icon').toggleClass('disabled');\n        $('#vector-tool').toggle();\n      });\n    $('#btnToggleLayers')\n      .popup({\n        title: 'Toggle Layers',\n        position: 'right center'\n      })\n      .on('click', function(){\n        $(this).find('i.icon').toggleClass('disabled');\n        $('#layers-tool').toggle();\n      });\n    $('#btnToggle3DOptions')\n      .popup({\n        title: 'Toggle 3D Options',\n        position: 'right center'\n      })\n      .on('click', function(){\n        $(this).find('i.icon').toggleClass('disabled');\n        $('#threeD-tool').toggle();\n      });\n    $('#btnAddCircle')\n      .popup({\n        title: 'Circle',\n        position: 'right center'\n      })\n      .on('click', function(){\n        var circle = new fabric.Circle({ radius: 100, fill: 'green', left: 100, top: 100 });\n        this.model.addToCenter(circle);\n      }.bind(this));\n    $('#btnAddSquare')\n      .popup({\n        title: 'Square',\n        position: 'right center'\n      })\n      .on('click', function(){\n        var rect = new fabric.Rect({\n          left: 100,\n          top: 100,\n          fill: 'red',\n          width: 200,\n          height: 200\n        });\n        this.model.addToCenter(rect);\n      }.bind(this));\n    $('#btnAddTriangle')\n      .popup({\n        title: 'Triangle',\n        position: 'right center'\n      })\n      .on('click', function(){\n        var triangle = new fabric.Triangle({ width: 100, height: 100, fill: 'blue', left: 50, top: 50 });\n        this.model.addToCenter(triangle);\n      }.bind(this));\n  }\n\n  toggleToolbar() {\n    if (!this.model.attributes.transitioning) {\n      $(\"#toolbar\")\n        .sidebar({\n          dimPage: false,\n          transition: 'push',\n          exclusive: false,\n          closable: false,\n          onChange: function() {\n            app.models.mainCanvas.attributes.transitioning = true;\n          },\n          onHide: function() {\n            app.models.mainCanvas.attributes.transitioning = false;\n          },\n          onShow: function() {\n            app.models.mainCanvas.attributes.transitioning = false;\n          }\n        })\n        .sidebar(\"toggle\");\n      this.model.updateCanvasSize();\n    }\n  }\n}\n","// External libs\r\nimport $ from 'jQuery';\r\n// Models\r\nimport MainCanvasModel from './app/models/MainCanvasModel.js';\r\nimport ThreeCanvasModel from './app/models/ThreeCanvasModel.js';\r\n// Views\r\nimport MainCanvasView from './app/views/MainCanvasView.js';\r\n\r\n/**\r\n * Manifold Browser Application\r\n */\r\nexport default class App {\r\n  constructor() {\r\n    this.models = {\r\n      mainCanvas: new MainCanvasModel(),\r\n      threeCanvas: []\r\n    };\r\n    this.views = {\r\n      mainCanvas: new MainCanvasView({ model: this.models.mainCanvas }),\r\n      threeCanvas: []\r\n    };\r\n  }\r\n}\r\n\r\n// Startup using jQuery.ready()\r\n$(() => {\r\n  var app = new App();\r\n  window.app = app;\r\n});\r\n"],"names":["super","const","this"],"mappings":"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"}