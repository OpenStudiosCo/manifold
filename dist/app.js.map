{"version":3,"file":"app.js","sources":["../src/app/imagetracer.integration.js","../src/app/potrace.integration.js","../src/app/three.integration.js","../src/app.js"],"sourcesContent":["import ImageTracer from 'ImageTracer';\r\nimport $ from 'jQuery';\r\n\r\n/**\r\n  * imagetracerjs method\r\n  * \r\n  * Credit - https://github.com/jankovicsandras/imagetracerjs\r\n  */\r\nvar controls;\r\n\r\n// Setup imagetracer controls.\r\nexport function init_imagetracer(gui) {\r\n  controls = ImageTracer.checkoptions();\r\n  controls.numberofcolors = 2;\r\n  controls.strokewidth = 1;\r\n  controls.viewbox = true;\r\n  var imagetracerControls = gui.addFolder('imagetracerjs Controls');\r\n  for (var controlName in controls) {\r\n    var callback = function() {\r\n      $('#svg-preview').html('<div class=\"ui active centered inline loader\"></div>');\r\n      // Wait 100ms so the loader can appear.\r\n      setTimeout(imagetracer, 100);\r\n    };\r\n    if (isNaN(controls[controlName])) {\r\n      imagetracerControls.add(controls, controlName)\r\n        .onFinishChange(callback);\r\n    }\r\n    else {\r\n      var max = controls[controlName] * 2;\r\n      max = (max > 0) ? max : 100;\r\n      imagetracerControls.add(controls, controlName, 0, max)\r\n        .onFinishChange(callback);\r\n    }\r\n  }\r\n}\r\n\r\nexport function imagetracer() {\r\n  // Duplicate the img programatically so we can get its original dimensions.\r\n  var original_image = document.getElementById('original-image');\r\n  var img = document.createElement('img');\r\n  img.src = original_image.src;\r\n  \r\n  // Get the image data from a virtual canvas.\r\n  var canvas = document.createElement('canvas');\r\n  canvas.width = img.width;\r\n  canvas.height = img.height;\r\n  var context = canvas.getContext('2d');\r\n  context.drawImage(img,0,0);\r\n  var imgData = context.getImageData(0, 0, img.width, img.height);\r\n\r\n  // Create an SVG from data and settings, draw to screen.\r\n  var svgStr = ImageTracer.imagedataToSVG(imgData, controls);\r\n  $('#svg-preview').html('');\r\n  ImageTracer.appendSVGString( svgStr, 'svg-preview' );\r\n}\r\n\r\n","import Potrace from 'Potrace';\r\nimport $ from 'jQuery';\r\n\r\n/**\r\n   * Potrace method\r\n   * \r\n   * Credit - https://github.com/kilobtye/potrace\r\n  **/\r\n\r\nvar potraceConfig;\r\n\r\n// Setup Potrace controls.\r\nexport function init_potrace(gui) {\r\n  var potraceControls = gui.addFolder('Potrace Controls');\r\n  potraceConfig = {\r\n    alphamax: 1,\r\n    optcurve: false,\r\n    opttolerance: 0.2,\r\n    turdsize: 2,\r\n    turnpolicy: \"minority\"\r\n  };\r\n  for (var controlName in potraceConfig) {\r\n    var callback = function() {\r\n      $('#potrace-preview').html('<div class=\"ui active centered inline loader\"></div>');\r\n      // Wait 100ms so the loader can appear.\r\n      setTimeout(potrace, 100);\r\n    };\r\n    // Choose from accepted values\r\n    if (controlName == 'turnpolicy') {\r\n      potraceControls.add(potraceConfig, 'turnpolicy', [ 'black', 'white', 'left', 'right', 'minority', 'majority' ] )\r\n        .onFinishChange(callback);  \r\n    }\r\n    else {\r\n      if (isNaN(potraceConfig[controlName])) {\r\n        potraceControls.add(potraceConfig, controlName)\r\n          .onFinishChange(callback);\r\n      }\r\n      else {\r\n        var max = potraceConfig[controlName] * 2;\r\n        max = (max > 0) ? max : 100;\r\n        potraceControls.add(potraceConfig, controlName, 0, max)\r\n          .onFinishChange(callback);\r\n      }\r\n    }\r\n  }\r\n}\r\n// Setup Potrace controls.\r\nexport function potrace() {\r\n  Potrace.clear();\r\n  Potrace.setParameter(potraceConfig);\r\n  Potrace.loadImageFromId('original-image');\r\n  Potrace.process(function(){\r\n    var svgdiv = document.getElementById('potrace-preview');\r\n    svgdiv.innerHTML = Potrace.getSVG(1, 'curve');\r\n  });\r\n}","import THREE from 'THREE';\r\nimport $ from 'jQuery';\r\nimport $d3g from '$d3g';\r\n\r\n/**\r\n * Three.JS integration\r\n *\r\n * Using new SVGLoader https://github.com/mrdoob/three.js/issues/13478 and\r\n * old example from https://threejs.org/examples/#webgl_geometry_extrude_shapes2\r\n**/\r\nvar threeControls;\r\nvar colours = {\r\n  Example: \"#ffae23\"\r\n};\r\n\r\n// Setup THREE.JS controls.\r\nexport function init_three(gui) {\r\n  threeControls = gui.addFolder('THREE.JS Controls');\r\n  threeControls.addColor(colours, 'Example');\r\n  $('button.fluid.ui.button').click(function() {\r\n    var $container = $('#model-preview');\r\n    $container.html( '<div class=\"ui active centered inline loader\"></div>' );\r\n    setTimeout(function() {\r\n      // Setup the model scene.\r\n      var scene = new THREE.Scene();\r\n      var width = $container.parent().innerWidth();\r\n      var height = 400;\r\n      var camera = new THREE.PerspectiveCamera( 50, width / height, 1, 100000 );\r\n      camera.position.set( 0, 0, 400 );\r\n      camera.lookAt( 0, 0, 0 );\r\n      var renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n      renderer.setPixelRatio( window.devicePixelRatio );\r\n      renderer.setSize( width, height );\r\n      $container.html( renderer.domElement );\r\n\r\n      var controls = new THREE.OrbitControls( camera, renderer.domElement );\r\n      function animate() {\r\n        requestAnimationFrame( animate );\r\n        render();\r\n      }\r\n      function render() {\r\n        controls.update();\r\n        renderer.render( scene, camera );\r\n      }\r\n\r\n      var extrudeAmount = 40;\r\n      // Load the potrace SVG using d3-threeD.\r\n      var group = new THREE.Group();\r\n      scene.add( group );\r\n      addGeoObject(group, {\r\n        paths: [$('#potrace-preview path').attr('d') + \" Z\"],\r\n        amounts: [ extrudeAmount ],\r\n        center: { x: width, y: height /2 }\r\n      });\r\n      group.scale.multiplyScalar(0.25);\r\n      group.position.setX(150);\r\n\r\n       // Load the imagetracejs SVG using experimental SVGLoader from three.js dev.\r\n      var loader = new THREE.SVGLoader();\r\n      var paths = loader.parse($('#svg-preview').html());\r\n      var group2 = new THREE.Group();\r\n      group2.scale.multiplyScalar( 0.25 );\r\n      for ( var i = 0; i < paths.length; i ++ ) {\r\n        var path = paths[ i ];\r\n        var shapes = path.toShapes( true );\r\n        for ( var j = 0; j < shapes.length; j ++ ) {\r\n          var color = new THREE.Color(Math.random() * 0xffffff);\r\n          var material = new THREE.MeshLambertMaterial( {\r\n            color: color,\r\n            emissive: color\r\n          } );\r\n          var simpleShape = shapes[ j ];\r\n          var shape3d = new THREE.ExtrudeBufferGeometry( simpleShape, {\r\n            amount: extrudeAmount * (Math.random() * 10),\r\n            bevelEnabled: false\r\n          } );\r\n\r\n          var center = { x: width, y: height /2 };\r\n\r\n          var mesh = new THREE.Mesh( shape3d, material );\r\n          mesh.rotation.x = Math.PI;\r\n          mesh.translateZ( - extrudeAmount - 1 );\r\n          mesh.translateX( - center.x );\r\n          mesh.translateY( - center.y );\r\n\r\n          group2.add( mesh );\r\n        }\r\n      }\r\n      group2.position.setX(-125);\r\n      scene.add( group2 );\r\n      \r\n      var size = 2000;\r\n      var divisions = 100;\r\n      var gridColour = new THREE.Color(0xEFEFEF);\r\n\r\n      var gridHelper = new THREE.GridHelper( size, divisions, gridColour, gridColour );\r\n      gridHelper.position.setX(-712.5);\r\n      gridHelper.position.setZ(-500);\r\n      gridHelper.rotateX(Math.PI / 2);\r\n      gridHelper.rotateZ(-Math.PI / 4);\r\n      scene.add( gridHelper );\r\n\r\n      var gridHelper2 = new THREE.GridHelper( size, divisions, gridColour, gridColour );\r\n      gridHelper2.position.setX(712.5);\r\n      gridHelper2.position.setZ(-500);\r\n      gridHelper2.rotateX(Math.PI / 2);\r\n      gridHelper2.rotateZ(Math.PI / 4);\r\n      scene.add( gridHelper2 );\r\n\r\n      var axesHelper = new THREE.AxesHelper( 500 );\r\n      axesHelper.rotateY(-Math.PI / 4);\r\n      axesHelper.position.set(0, -100, -350);\r\n      scene.add( axesHelper );\r\n\r\n      animate();\r\n    }, 100);\r\n  });\r\n}\r\n\r\n// Adds an object from an SVG.\r\nfunction addGeoObject( group, svgObject ) {\r\n  var paths = svgObject.paths;\r\n  var amounts = svgObject.amounts;\r\n  var center = svgObject.center;\r\n\r\n  for ( var i = 0; i < paths.length; i ++ ) {\r\n    var path = $d3g.transformSVGPath( paths[ i ] );       \r\n    var amount = amounts[ i ];\r\n    var simpleShapes = path.toShapes( true );\r\n\r\n    for ( var j = 0; j < simpleShapes.length; j ++ ) {\r\n      var color = new THREE.Color(Math.random() * 0xffffff);\r\n      var material = new THREE.MeshLambertMaterial( {\r\n        color: color,\r\n        emissive: color\r\n      } );\r\n      var simpleShape = simpleShapes[ j ];\r\n      var shape3d = new THREE.ExtrudeBufferGeometry( simpleShape, {\r\n        amount: amount * (Math.random() * 10),\r\n        bevelEnabled: false\r\n      } );\r\n\r\n      var mesh = new THREE.Mesh( shape3d, material );\r\n      mesh.rotation.x = Math.PI;\r\n      mesh.translateZ( - amount - 1 );\r\n      mesh.translateX( - center.x );\r\n      mesh.translateY( - center.y );\r\n\r\n      group.add( mesh );\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import $ from 'jQuery';\r\nimport dat from 'dat';\r\nimport { init_imagetracer, imagetracer } from './app/imagetracer.integration.js';\r\nimport { init_potrace, potrace } from './app/potrace.integration.js';\r\nimport { init_three } from './app/three.integration.js';\r\n\r\n/**\r\n * Manifold Browser Application\r\n */\r\n\r\n$(document).ready(function() {\r\n  var gui = new dat.GUI();\r\n\r\n  $('#image_select').click(function(e){\r\n    $('#image_input').click();\r\n    e.preventDefault();\r\n  });\r\n\r\n  window.URL = window.URL || window.webkitURL || window.mozURL;\r\n  $('#image_input').change(function(){\r\n    var url = URL.createObjectURL(this.files[0]);\r\n    $('<div class=\"item\"><div class=\"ui white compact button js-change-image\"><div class=\"ui fluid image mini\"><img src=\"' + url + '\" /></div></div></div>')\r\n      .insertBefore('.ui.inverted.top.fixed.menu .item:last-child');\r\n  });\r\n\r\n  $('.ui.inverted.top.fixed.menu').on('click', '.js-change-image', function(){\r\n    $('#original-image').attr('src', $(this).find('img').attr('src'));\r\n    $('#svg-preview, #potrace-preview').html('<div class=\"ui active centered inline loader\"></div>');\r\n    var callback = function(){\r\n      imagetracer();\r\n      potrace();\r\n    };\r\n    setTimeout(callback, 100);\r\n  });\r\n\r\n  // Setup imagetracer controls and run.\r\n  init_imagetracer(gui);\r\n  imagetracer();\r\n\r\n  // Setup Potrace controls and run.\r\n  init_potrace(gui);\r\n  potrace();\r\n\r\n  // Setup Three.JS controls.\r\n  init_three(gui);\r\n\r\n});\r\n"],"names":[],"mappings":"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"}