{"version":3,"file":"app.js","sources":["../src/models/base.js","../src/models/controls/imagetracer.js","../src/models/controls/potrace.js","../src/models/controls/three.js","../node_modules/rollup-plugin-pug/dist/runtime.es.js","../src/templates/loader.pug","../src/views/base.js","../src/views/imagetracer.js","../src/views/potrace.js","../src/views/three.js","../src/templates/image-container.pug","../src/views/ui.js","../src/app.js"],"sourcesContent":["import Backbone from 'Backbone';\r\n\r\n/**\r\n  * Base model.\r\n  */\r\n\r\nexport default class BaseModel extends Backbone.Model {}\r\n","import BaseModel from '../base.js';\r\nimport { checkoptions } from 'ImageTracer';\r\n\r\n/**\r\n  * Imagetracer Controls model.\r\n  */\r\n\r\nexport default class ImageTracerControls extends BaseModel {\r\n  defaults() {\r\n    var controls = checkoptions();\r\n    controls.numberofcolors = 2;\r\n    controls.strokewidth = 1;\r\n    controls.viewbox = true;\r\n\r\n    return controls;\r\n  }\r\n\r\n}\r\n","import BaseModel from '../base.js';\r\n\r\n/**\r\n  * Potrace Controls model.\r\n  */\r\n\r\nexport default class PotraceControls extends BaseModel {\r\n  defaults() {\r\n    var controls = {\r\n      alphamax: 1,\r\n      optcurve: false,\r\n      opttolerance: 0.2,\r\n      turdsize: 2,\r\n      turnpolicy: \"minority\"\r\n    };\r\n    \r\n    return controls;\r\n  }\r\n}\r\n","import BaseModel from '../base.js';\r\n\r\n/**\r\n  * Three Controls model.\r\n  */\r\n\r\nexport default class ThreeControls extends BaseModel {\r\n  defaults() {\r\n    var controls = {\r\n      'Example 1': \"#ffae23\",\r\n      'Example 2': \"#ae23ff\",\r\n      'Example 3': \"#23ffae\"\r\n    };\r\n    \r\n    return controls;\r\n  }\r\n}\r\n","export default (function(exports){\n  'use strict';\n\n  var pug_has_own_property = Object.prototype.hasOwnProperty;\n\n  /**\n   * Merge two attribute objects giving precedence\n   * to values in object `b`. Classes are special-cased\n   * allowing for arrays and merging/joining appropriately\n   * resulting in a string.\n   *\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   * @api private\n   */\n\n  exports.merge = pug_merge;\n  function pug_merge(a, b) {\n    if (arguments.length === 1) {\n      var attrs = a[0];\n      for (var i = 1; i < a.length; i++) {\n        attrs = pug_merge(attrs, a[i]);\n      }\n      return attrs;\n    }\n\n    for (var key in b) {\n      if (key === 'class') {\n        var valA = a[key] || [];\n        a[key] = (Array.isArray(valA) ? valA : [valA]).concat(b[key] || []);\n      } else if (key === 'style') {\n        var valA = pug_style(a[key]);\n        valA = valA && valA[valA.length - 1] !== ';' ? valA + ';' : valA;\n        var valB = pug_style(b[key]);\n        valB = valB && valB[valB.length - 1] !== ';' ? valB + ';' : valB;\n        a[key] = valA + valB;\n      } else {\n        a[key] = b[key];\n      }\n    }\n\n    return a;\n  };\n\n  /**\n   * Process array, object, or string as a string of classes delimited by a space.\n   *\n   * If `val` is an array, all members of it and its subarrays are counted as\n   * classes. If `escaping` is an array, then whether or not the item in `val` is\n   * escaped depends on the corresponding item in `escaping`. If `escaping` is\n   * not an array, no escaping is done.\n   *\n   * If `val` is an object, all the keys whose value is truthy are counted as\n   * classes. No escaping is done.\n   *\n   * If `val` is a string, it is counted as a class. No escaping is done.\n   *\n   * @param {(Array.<string>|Object.<string, boolean>|string)} val\n   * @param {?Array.<string>} escaping\n   * @return {String}\n   */\n  exports.classes = pug_classes;\n  function pug_classes_array(val, escaping) {\n    var classString = '', className, padding = '', escapeEnabled = Array.isArray(escaping);\n    for (var i = 0; i < val.length; i++) {\n      className = pug_classes(val[i]);\n      if (!className) continue;\n      escapeEnabled && escaping[i] && (className = pug_escape(className));\n      classString = classString + padding + className;\n      padding = ' ';\n    }\n    return classString;\n  }\n  function pug_classes_object(val) {\n    var classString = '', padding = '';\n    for (var key in val) {\n      if (key && val[key] && pug_has_own_property.call(val, key)) {\n        classString = classString + padding + key;\n        padding = ' ';\n      }\n    }\n    return classString;\n  }\n  function pug_classes(val, escaping) {\n    if (Array.isArray(val)) {\n      return pug_classes_array(val, escaping);\n    } else if (val && typeof val === 'object') {\n      return pug_classes_object(val);\n    } else {\n      return val || '';\n    }\n  }\n\n  /**\n   * Convert object or string to a string of CSS styles delimited by a semicolon.\n   *\n   * @param {(Object.<string, string>|string)} val\n   * @return {String}\n   */\n\n  exports.style = pug_style;\n  function pug_style(val) {\n    if (!val) return '';\n    if (typeof val === 'object') {\n      var out = '';\n      for (var style in val) {\n        /* istanbul ignore else */\n        if (pug_has_own_property.call(val, style)) {\n          out = out + style + ':' + val[style] + ';';\n        }\n      }\n      return out;\n    } else {\n      return val + '';\n    }\n  };\n\n  /**\n   * Render the given attribute.\n   *\n   * @param {String} key\n   * @param {String} val\n   * @param {Boolean} escaped\n   * @param {Boolean} terse\n   * @return {String}\n   */\n  exports.attr = pug_attr;\n  function pug_attr(key, val, escaped, terse) {\n    if (val === false || val == null || !val && (key === 'class' || key === 'style')) {\n      return '';\n    }\n    if (val === true) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    }\n    if (typeof val.toJSON === 'function') {\n      val = val.toJSON();\n    }\n    if (typeof val !== 'string') {\n      val = JSON.stringify(val);\n      if (!escaped && val.indexOf('\"') !== -1) {\n        return ' ' + key + '=\\'' + val.replace(/'/g, '&#39;') + '\\'';\n      }\n    }\n    if (escaped) val = pug_escape(val);\n    return ' ' + key + '=\"' + val + '\"';\n  };\n\n  /**\n   * Render the given attributes object.\n   *\n   * @param {Object} obj\n   * @param {Object} terse whether to use HTML5 terse boolean attributes\n   * @return {String}\n   */\n  exports.attrs = pug_attrs;\n  function pug_attrs(obj, terse){\n    var attrs = '';\n\n    for (var key in obj) {\n      if (pug_has_own_property.call(obj, key)) {\n        var val = obj[key];\n\n        if ('class' === key) {\n          val = pug_classes(val);\n          attrs = pug_attr(key, val, false, terse) + attrs;\n          continue;\n        }\n        if ('style' === key) {\n          val = pug_style(val);\n        }\n        attrs += pug_attr(key, val, false, terse);\n      }\n    }\n\n    return attrs;\n  };\n\n  /**\n   * Escape the given string of `html`.\n   *\n   * @param {String} html\n   * @return {String}\n   * @api private\n   */\n\n  var pug_match_html = /[\"&<>]/;\n  exports.escape = pug_escape;\n  function pug_escape(_html){\n    var html = '' + _html;\n    var regexResult = pug_match_html.exec(html);\n    if (!regexResult) return _html;\n\n    var result = '';\n    var i, lastIndex, escape;\n    for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n      switch (html.charCodeAt(i)) {\n        case 34: escape = '&quot;'; break;\n        case 38: escape = '&amp;'; break;\n        case 60: escape = '&lt;'; break;\n        case 62: escape = '&gt;'; break;\n        default: continue;\n      }\n      if (lastIndex !== i) result += html.substring(lastIndex, i);\n      lastIndex = i + 1;\n      result += escape;\n    }\n    if (lastIndex !== i) return result + html.substring(lastIndex, i);\n    else return result;\n  };\n\n  /**\n   * Re-throw the given `err` in context to the\n   * the pug in `filename` at the given `lineno`.\n   *\n   * @param {Error} err\n   * @param {String} filename\n   * @param {String} lineno\n   * @param {String} str original source\n   * @api private\n   */\n\n  exports.rethrow = pug_rethrow;\n  function pug_rethrow(err, filename, lineno, str){\n    if (!(err instanceof Error)) throw err;\n    if ((typeof window != 'undefined' || !filename) && !str) {\n      err.message += ' on line ' + lineno;\n      throw err;\n    }\n    try {\n      str = str || require('fs').readFileSync(filename, 'utf8')\n    } catch (ex) {\n      pug_rethrow(err, null, lineno)\n    }\n    var context = 3\n      , lines = str.split('\\n')\n      , start = Math.max(lineno - context, 0)\n      , end = Math.min(lines.length, lineno + context);\n\n    // Error context\n    var context = lines.slice(start, end).map(function(line, i){\n      var curr = i + start + 1;\n      return (curr == lineno ? '  > ' : '    ')\n        + curr\n        + '| '\n        + line;\n    }).join('\\n');\n\n    // Alter exception message\n    err.path = filename;\n    err.message = (filename || 'Pug') + ':' + lineno\n      + '\\n' + context + '\\n\\n' + err.message;\n    throw err;\n  };\n\n  return exports\n})({});\n",".ui.active.centered.inline.loader\r\n","import Backbone from 'Backbone';\r\nimport dat from 'dat';\r\nimport loader from '../templates/loader.pug';\r\n\r\n/**\r\n  * Base view.\r\n  */\r\n\r\nvar gui = new dat.GUI();\r\n\r\nexport default class BaseView extends Backbone.View {\r\n\tconstructor(options) {\r\n    super(options);\r\n    this.gui = gui;\r\n\r\n    return this;\r\n\t}\r\n\r\n  generateControls(title) {\r\n    var guiFolder = this.gui.addFolder(title);\r\n    for (var controlName in this.model.attributes) {\r\n      var callback = function() {\r\n        this.$el.html(loader());\r\n        // Wait 100ms so the loader can appear.\r\n        setTimeout(this.createSVG.bind(this), 100);\r\n      };\r\n      if (isNaN(this.model.attributes[controlName])) {\r\n        guiFolder.add(this.model.attributes, controlName)\r\n          .onFinishChange(callback.bind(this));\r\n      }\r\n      else {\r\n        var max = this.model.attributes[controlName] * 2;\r\n        max = (max > 0) ? max : 100;\r\n        guiFolder.add(this.model.attributes, controlName, 0, max)\r\n          .onFinishChange(callback.bind(this));\r\n      }\r\n    }\r\n  }\r\n}\r\n","import ImageTracer from 'ImageTracer';\r\nimport BaseView from './base.js';\r\n\r\n/**\r\n  * ImageTracer view.\r\n  *\r\n  * Manages all UI elements relating to ImageTracer integration.\r\n  */\r\n\r\nexport default class ImageTracerView extends BaseView {\r\n  constructor(options) {\r\n    super({\r\n      el: '#svg-preview',\r\n      model: options.model\r\n    });\r\n\r\n    this.generateControls('ImageTracer Controls');\r\n    this.createSVG();\r\n  }\r\n\r\n  // Create an SVG from data and settings, draw to screen.\r\n  createSVG() {  \r\n    var svgStr = ImageTracer.imagedataToSVG(this.getImageDimensions(), this.model.attributes);\r\n    this.$el.html('');\r\n    ImageTracer.appendSVGString( svgStr, 'svg-preview' );\r\n  }\r\n  \r\n  // Duplicates the image programatically so we can get its original dimensions.\r\n  getImageDimensions() {\r\n    var original_image = document.getElementById('original-image');\r\n    var img = document.createElement('img');\r\n    img.src = original_image.src;\r\n    \r\n    // Get the image data from a virtual canvas.\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n    var context = canvas.getContext('2d');\r\n    context.drawImage(img,0,0);\r\n    \r\n    return context.getImageData(0, 0, img.width, img.height);\r\n  }\r\n\r\n}\r\n","import Potrace from 'Potrace';\r\nimport BaseView from './base.js';\r\n\r\n/**\r\n  * Potrace view.\r\n  *\r\n  * Manages all UI elements relating to Potrace integration.\r\n  */\r\n\r\nexport default class PotraceView extends BaseView {\r\n  constructor(options) {\r\n    super({\r\n      el: '#potrace-preview',\r\n      model: options.model\r\n    });\r\n    this.generateControls('Potrace Controls')\r\n    this.createSVG();\r\n  }\r\n\r\n  // Create an SVG from data and settings, draw to screen.\r\n  createSVG() {  \r\n    Potrace.clear();\r\n    Potrace.setParameter(this.model.attributes);\r\n    Potrace.loadImageFromId('original-image');\r\n    Potrace.process(function(){\r\n      var svgdiv = document.getElementById('potrace-preview');\r\n      svgdiv.innerHTML = Potrace.getSVG(1, 'curve');\r\n    });\r\n  }\r\n  \r\n}\r\n","import $ from 'jQuery';\r\nimport THREE from 'THREE';\r\nimport $d3g from '$d3g';\r\nimport BaseView from './base.js';\r\n\r\n/**\r\n  * Potrace view.\r\n  *\r\n  * Manages all UI elements relating to Potrace integration.\r\n  */\r\n\r\nexport default class ThreeView extends BaseView {\r\n  constructor(options) {\r\n    super({\r\n      el: '#model-preview',\r\n      model: options.model\r\n    });\r\n    var guiFolder = this.gui.addFolder('THREE.JS Controls');\r\n    guiFolder.addColor(this.model.attributes, 'Example 1');\r\n    guiFolder.addColor(this.model.attributes, 'Example 2');\r\n    guiFolder.addColor(this.model.attributes, 'Example 3');\r\n  }\r\n\r\n  createScene() {\r\n    var scene = new THREE.Scene();\r\n    var width = this.$el.parent().innerWidth();\r\n    var height = 400;\r\n    var camera = new THREE.PerspectiveCamera( 50, width / height, 1, 100000 );\r\n    camera.position.set( 0, 0, 400 );\r\n    camera.lookAt( 0, 0, 0 );\r\n    var renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n    renderer.setPixelRatio( window.devicePixelRatio );\r\n    renderer.setSize( width, height );\r\n    this.$el.html( renderer.domElement );\r\n\r\n    var controls = new THREE.OrbitControls( camera, renderer.domElement );\r\n    function animate() {\r\n      requestAnimationFrame( animate );\r\n      render();\r\n    }\r\n    function render() {\r\n      controls.update();\r\n      renderer.render( scene, camera );\r\n    }\r\n\r\n    var extrudeAmount = 40;\r\n    // Load the potrace SVG using d3-threeD.\r\n    var group = new THREE.Group();\r\n    scene.add( group );\r\n    this.addGeoObject(group, {\r\n      paths: [$('#potrace-preview path').attr('d') + \" Z\"],\r\n      amounts: [ extrudeAmount ],\r\n      center: { x: width, y: height /2 }\r\n    });\r\n    group.scale.multiplyScalar(0.25);\r\n    group.position.setX(150);\r\n\r\n     // Load the imagetracejs SVG using experimental SVGLoader from three.js dev.\r\n    var loader = new THREE.SVGLoader();\r\n    var paths = loader.parse($('#svg-preview').html());\r\n    var group2 = new THREE.Group();\r\n    group2.scale.multiplyScalar( 0.25 );\r\n    for ( var i = 0; i < paths.length; i ++ ) {\r\n      var path = paths[ i ];\r\n      var shapes = path.toShapes( true );\r\n      for ( var j = 0; j < shapes.length; j ++ ) {\r\n        var color = new THREE.Color(Math.random() * 0xffffff);\r\n        var material = new THREE.MeshLambertMaterial( {\r\n          color: color,\r\n          emissive: color\r\n        } );\r\n        var simpleShape = shapes[ j ];\r\n        var shape3d = new THREE.ExtrudeBufferGeometry( simpleShape, {\r\n          amount: extrudeAmount * (Math.random() * 10),\r\n          bevelEnabled: false\r\n        } );\r\n\r\n        var center = { x: width, y: height /2 };\r\n\r\n        var mesh = new THREE.Mesh( shape3d, material );\r\n        mesh.rotation.x = Math.PI;\r\n        mesh.translateZ( - extrudeAmount - 1 );\r\n        mesh.translateX( - center.x );\r\n        mesh.translateY( - center.y );\r\n\r\n        group2.add( mesh );\r\n      }\r\n    }\r\n    group2.position.setX(-125);\r\n    scene.add( group2 );\r\n\r\n    var size = 2000;\r\n    var divisions = 100;\r\n    var gridColour = new THREE.Color(0xEFEFEF);\r\n\r\n    var gridHelper = new THREE.GridHelper( size, divisions, gridColour, gridColour );\r\n    gridHelper.position.setX(-712.5);\r\n    gridHelper.position.setZ(-500);\r\n    gridHelper.rotateX(Math.PI / 2);\r\n    gridHelper.rotateZ(-Math.PI / 4);\r\n    scene.add( gridHelper );\r\n\r\n    var gridHelper2 = new THREE.GridHelper( size, divisions, gridColour, gridColour );\r\n    gridHelper2.position.setX(712.5);\r\n    gridHelper2.position.setZ(-500);\r\n    gridHelper2.rotateX(Math.PI / 2);\r\n    gridHelper2.rotateZ(Math.PI / 4);\r\n    scene.add( gridHelper2 );\r\n\r\n    var axesHelper = new THREE.AxesHelper( 500 );\r\n    axesHelper.rotateY(-Math.PI / 4);\r\n    axesHelper.position.set(0, -100, -350);\r\n    scene.add( axesHelper );\r\n\r\n    animate();\r\n  }\r\n  \r\n  // Adds an object from an SVG.\r\n  addGeoObject( group, svgObject ) {\r\n    var paths = svgObject.paths;\r\n    var amounts = svgObject.amounts;\r\n    var center = svgObject.center;\r\n\r\n    for ( var i = 0; i < paths.length; i ++ ) {\r\n      var path = $d3g.transformSVGPath( paths[ i ] );       \r\n      var amount = amounts[ i ];\r\n      var simpleShapes = path.toShapes( true );\r\n\r\n      for ( var j = 0; j < simpleShapes.length; j ++ ) {\r\n        var color = new THREE.Color(Math.random() * 0xffffff);\r\n        var material = new THREE.MeshLambertMaterial( {\r\n          color: color,\r\n          emissive: color\r\n        } );\r\n        var simpleShape = simpleShapes[ j ];\r\n        var shape3d = new THREE.ExtrudeBufferGeometry( simpleShape, {\r\n          amount: amount * (Math.random() * 10),\r\n          bevelEnabled: false\r\n        } );\r\n\r\n        var mesh = new THREE.Mesh( shape3d, material );\r\n        mesh.rotation.x = Math.PI;\r\n        mesh.translateZ( - amount - 1 );\r\n        mesh.translateX( - center.x );\r\n        mesh.translateY( - center.y );\r\n\r\n        group.add( mesh );\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n",".item\r\n  .ui.white.compact.button.js-change-image\r\n    .ui.fluid.image.mini\r\n      img(src=url)\r\n","import $ from 'jQuery';\r\nimport BaseView from './base.js';\r\nimport imageContainer from '../templates/image-container.pug';\r\nimport loader from '../templates/loader.pug';\r\n\r\n/**\r\n  * Application UI.\r\n  *\r\n  * Manages all UI elements for the core application.\r\n  */\r\n\r\nexport default class AppUI extends BaseView {\r\n  constructor(imageTracerView, potraceView, threeView) {\r\n    super({\r\n      el: '#container',\r\n      events: {\r\n        'click #image_select': 'launchFileBrowser',\r\n        'change #image_input': 'processFile',\r\n        'click .js-change-image': 'changeImage',\r\n        'click #btnRender': 'render3D'\r\n      }  \r\n    });\r\n    this.views = {\r\n      imagetracer: imageTracerView,\r\n      potrace: potraceView,\r\n      three: threeView\r\n    };\r\n  }\r\n\r\n  launchFileBrowser(e) {\r\n    $('#image_input').click();\r\n    e.preventDefault();\r\n  }\r\n\r\n  processFile(e) {\r\n    window.URL = window.URL || window.webkitURL || window.mozURL;\r\n    var url = URL.createObjectURL(e.currentTarget.files[0]);\r\n    $(imageContainer({url: url}))\r\n      .insertBefore('.ui.inverted.top.fixed.menu .item:last-child');\r\n  }\r\n\r\n  changeImage(e) {\r\n    $('#original-image').attr('src', $(e.currentTarget).find('img').attr('src'));\r\n    $('#svg-preview, #potrace-preview').html(loader());\r\n    var callback = function(){\r\n      this.views.imagetracer.createSVG();\r\n      this.views.potrace.createSVG();\r\n    };\r\n    setTimeout(callback.bind(this), 100);\r\n  }\r\n\r\n  render3D() {\r\n    this.views.three.$el.html(loader());\r\n    setTimeout(this.views.three.createScene.bind(this.views.three), 100);\r\n  }\r\n}\r\n","// External libs\r\nimport $ from 'jQuery';\r\n// Models\r\nimport ImageTracerControls from './models/controls/imagetracer.js';\r\nimport PotraceControls from './models/controls/potrace.js';\r\nimport ThreeControls from './models/controls/three.js';\r\n// Views\r\nimport ImageTracerView from './views/imagetracer.js';\r\nimport PotraceView from './views/potrace.js';\r\nimport ThreeView from './views/three.js';\r\nimport AppUI from './views/ui.js';\r\n\r\n/**\r\n * Manifold Browser Application\r\n */\r\n$(() => {\r\n  var imageTracerView = new ImageTracerView({\r\n    model: new ImageTracerControls()\r\n  });\r\n\r\n  var potraceView = new PotraceView({\r\n    model: new PotraceControls()\r\n  });\r\n\r\n  var threeView = new ThreeView({\r\n    model: new ThreeControls()\r\n  });\r\n\r\n  var appUI = new AppUI(imageTracerView, potraceView, threeView);\r\n  console.log(appUI);\r\n});\r\n"],"names":["checkoptions","super","this","ImageTracer"],"mappings":"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"}